<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Subject Details</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
    <h1 th:text="'📘 Subject: ' + ${subject.name}">Subject Name</h1>

    <!-- MARKS SECTION -->
    <h2>📊 Marks</h2>
    <table>
        <thead>
        <tr>
            <th>Exam</th>
            <th>Score</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="mark : ${marks}">
            <td th:text="${mark.examName}">Exam</td>
            <td th:text="${mark.score}">Score</td>
            <td class="actions">
                <a th:href="@{'/marks/edit/' + ${mark.id}}" class="btn btn-edit">✏️ Edit</a>
                <a th:href="@{'/marks/delete/' + ${mark.id}}"
                   onclick="return confirm('Are you sure you want to delete this mark?')"
                   class="btn btn-delete">🗑️ Delete</a>
            </td>
        </tr>
        </tbody>
    </table>

    <a th:href="@{'/marks/add/' + ${subject.id}}">
        <button>➕ Add New Mark</button>
    </a>

    <!-- TOPICS SECTION -->
    <h2 style="margin-top: 40px;">📝 Syllabus Topics</h2>
    <table>
        <thead>
        <tr>
            <th>Topic</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="topic : ${topics}">
            <td th:text="${topic.topicName}">Topic Name</td>
            <td th:text="${topic.completed ? '✅ Completed' : '❌ Incomplete'}">Status</td>
            <td class="actions">
                <a th:href="@{'/topics/edit/' + ${topic.id}}" class="btn btn-edit">✏️ Edit</a>
                <a th:href="@{'/topics/delete/' + ${topic.id}}"
                   onclick="return confirm('Are you sure you want to delete this topic?')"
                   class="btn btn-delete">🗑️ Delete</a>
            </td>
        </tr>
        </tbody>
    </table>

    <a th:href="@{'/topics/add/' + ${subject.id}}">
        <button>➕ Add New Topic</button>
    </a>

    <div style="margin-top: 30px;">
        <a href="/subjects">
            <button>🔙 Back to Subjects</button>
        </a>
    </div>

    <footer>
        <hr>
        <p style="text-align:center; color:#888;">Made with ❤️ using Spring Boot & Thymeleaf</p>
    </footer>
</div>
</body>
</html>
